{"body": "<div class=\"section\" id=\"integration-with-ploneformgen\">\n<h1>Integration with PloneFormGen<a class=\"headerlink\" href=\"#integration-with-ploneformgen\" title=\"Permalink to this headline\">\u00b6</a></h1>\n<p>Using Produce &amp; Publish with PloneFormGen - generating PDF\ndocuments from form data.</p>\n<div class=\"section\" id=\"installation\">\n<h2>Installation<a class=\"headerlink\" href=\"#installation\" title=\"Permalink to this headline\">\u00b6</a></h2>\n<ul class=\"simple\">\n<li>Install <strong>PloneFormGen</strong></li>\n</ul>\n</div>\n<div class=\"section\" id=\"converting-form-data-to-pdf\">\n<h2>Converting form data to PDF<a class=\"headerlink\" href=\"#converting-form-data-to-pdf\" title=\"Permalink to this headline\">\u00b6</a></h2>\n<ul class=\"simple\">\n<li>use a script adapter with the following code</li>\n</ul>\n<div class=\"highlight-python\"><div class=\"highlight\"><pre><span class=\"n\">view</span> <span class=\"o\">=</span> <span class=\"n\">context</span><span class=\"o\">.</span><span class=\"n\">restrictedTraverse</span><span class=\"p\">(</span><span class=\"s\">&#39;@@asPFGPDF&#39;</span><span class=\"p\">)</span>\n<span class=\"n\">pdf</span> <span class=\"o\">=</span>  <span class=\"n\">view</span><span class=\"p\">()</span>\n<span class=\"n\">R</span> <span class=\"o\">=</span> <span class=\"n\">context</span><span class=\"o\">.</span><span class=\"n\">REQUEST</span><span class=\"o\">.</span><span class=\"n\">RESPONSE</span>\n<span class=\"n\">R</span><span class=\"o\">.</span><span class=\"n\">setHeader</span><span class=\"p\">(</span><span class=\"s\">&#39;content-type&#39;</span><span class=\"p\">,</span> <span class=\"s\">&#39;application/pdf&#39;</span><span class=\"p\">)</span>\n<span class=\"n\">R</span><span class=\"o\">.</span><span class=\"n\">setHeader</span><span class=\"p\">(</span><span class=\"s\">&#39;content-length&#39;</span><span class=\"p\">,</span> <span class=\"nb\">len</span><span class=\"p\">(</span><span class=\"n\">pdf</span><span class=\"p\">))</span>\n<span class=\"n\">R</span><span class=\"o\">.</span><span class=\"n\">setHeader</span><span class=\"p\">(</span><span class=\"s\">&#39;content-disposition&#39;</span><span class=\"p\">,</span> <span class=\"s\">&#39;attachment; filename=</span><span class=\"si\">%s</span><span class=\"s\">.pdf&#39;</span> <span class=\"o\">%</span> <span class=\"n\">context</span><span class=\"o\">.</span><span class=\"n\">getId</span><span class=\"p\">())</span>\n<span class=\"n\">R</span><span class=\"o\">.</span><span class=\"n\">write</span><span class=\"p\">(</span><span class=\"n\">pdf</span><span class=\"p\">)</span>\n</pre></div>\n</div>\n<ul class=\"simple\">\n<li>You can access PFG form values within your PDF template using\n(in this case we have a form parameter <tt class=\"docutils literal\"><span class=\"pre\">fullname</span></tt>)</li>\n</ul>\n<div class=\"highlight-python\"><pre>&lt;span tal:replace=\"options/request/fullname | nothing\"&gt;Fullname&lt;/span&gt;</pre>\n</div>\n</div>\n</div>\n", "display_toc": true, "title": "Integration with PloneFormGen", "sourcename": "connector/integration-ploneformgen.txt", "customsidebar": null, "current_page_name": "connector/integration-ploneformgen", "next": {"link": "../../release-notes/zopyx.smartprintng.plone-docs/HISTORY/", "title": "Changelog"}, "rellinks": [["genindex", "General Index", "I", "index"], ["release-notes/zopyx.smartprintng.plone-docs/HISTORY", "Changelog", "N", "next"], ["connector/content-types", "Adding custom content-types to the Plone Client Connector", "P", "previous"]], "meta": {}, "parents": [], "sidebars": null, "toc": "<ul>\n<li><a class=\"reference internal\" href=\"#\">Integration with PloneFormGen</a><ul>\n<li><a class=\"reference internal\" href=\"#installation\">Installation</a></li>\n<li><a class=\"reference internal\" href=\"#converting-form-data-to-pdf\">Converting form data to PDF</a></li>\n</ul>\n</li>\n</ul>\n", "prev": {"link": "../content-types/", "title": "Adding custom content-types to the Plone Client Connector"}, "metatags": ""}